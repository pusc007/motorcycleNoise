(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{400:function(t,n,e){"use strict";e.d(n,"f",(function(){return f})),e.d(n,"b",(function(){return d})),e.d(n,"e",(function(){return l})),e.d(n,"c",(function(){return v})),e.d(n,"d",(function(){return p})),e.d(n,"g",(function(){return m})),e.d(n,"a",(function(){return g}));var r=e(401),o=e.n(r);e(405);function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){o()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var c=function(t){var n=!0,e=new Promise((function(e,r){t((function(){n&&e.apply(void 0,arguments)}),r)}));return e.cancel=function(){n=!1},e},a={userList:[{casenum:"112233445566",name:"黃大大",id:"S123456789",carnum:"AAA-1234",address:"高雄市鳳山區",reserv:"",extend:"",county:"",station:"",result:"",token:"123456789"},{casenum:"003388996677",name:"王大明",id:"S333666999",carnum:"BBB-5678",address:"台南市安平區",reserv:"",extend:"",county:"",station:"",result:"",token:"123456789"},{casenum:"003388998877",name:"洪大明",id:"S333666888",carnum:"BBB-2468",address:"台南市安平區",reserv:"2021-05-13",extend:"",county:"",station:"",result:"",token:"123456789"},{casenum:"003388008811",name:"陳大明",id:"S333777999",carnum:"BBB-1357",address:"台南市安平區",reserv:"2021-05-16",extend:"2021-05-19",county:"",station:"",result:"",token:"123456789"}],stationList:[{county:"高雄市",station:"高雄監理站01"},{county:"高雄市",station:"高雄監理站02"},{county:"高雄市",station:"高雄監理站03"},{county:"臺南市",station:"臺南監理站01"},{county:"臺南市",station:"臺南監理站02"},{county:"臺南市",station:"臺南監理站03"}],openTimeList:[{station:"高雄監理站01",date:"2021-06-13",maxcount:20},{station:"高雄監理站01",date:"2021-06-16",maxcount:24},{station:"高雄監理站01",date:"2021-06-19",maxcount:20},{station:"高雄監理站02",date:"2021-06-22",maxcount:20}]},u=function(t){return a.userList.find((function(n){return n.token===t}))},f=function(t,n){return c((function(e,r){setTimeout((function(){var o=a.userList.find((function(e){return e.casenum===t&&e.carnum==n}));o?e(o.token):r("fail")}),500)}))},d=function(t){return c((function(n,e){setTimeout((function(){if(u(t)){var r=[];a.stationList.forEach((function(t){r.includes(t.county)||r.push({text:t.county})})),n(r)}else e("token")}),500)}))},l=function(t,n){return c((function(e,r){setTimeout((function(){u(t)?n?e(a.stationList.filter((function(t){return t.county===n})).map((function(t){return{text:t.station}}))):r("error"):r("token")}),500)}))},v=function(t){return c((function(n,e){setTimeout((function(){var r=u(t);r?n(r):e("token")}),500)}))},p=function(t,n,e,r){return c((function(o,i){setTimeout((function(){if(u(t))if(n&&e&&r){var c=a.openTimeList.filter((function(t){var o=t.date.split(/\-/g);return t.station===n&&o[0]===e.toString()&&o[1]===r.toString().padStart(2,"0")}));c=c.map((function(t){var n=t.date,e=a.userList.filter((function(t){return t.reserv===n||t.extend===n}));return s(s({},t),{},{count:e.length})})),o(c)}else i("error");else i("token")}),500)}))},m=function(t,n,e,r){return c((function(o,i){setTimeout((function(){var s=u(t);s?n&&e&&r?(s.county=n,s.station=e,s.reserv=r,o()):i("error"):i("token")}),500)}))},g=function(t,n){return c((function(e,r){setTimeout((function(){var o=u(t);o?n?(o.extend=n,e()):r("error"):r("token")}),500)}))}},402:function(t,n,e){"use strict";n.a=e.p+"img/logo.996f07b8ca77ffb8cfc3df411c585003.png"},418:function(t,n,e){},468:function(t,n,e){"use strict";e(418)},474:function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-main",{staticClass:"main"},[e("v-container",{staticClass:"d-flex justify-center align-center",attrs:{"fill-height":"",fluid:""}},[e("v-card",{attrs:{flat:""}},[e("v-card-title",{staticClass:"pa-0 pa-md-2 flex-column justify-center"},[e("img",{staticClass:"logo",attrs:{src:t.logo}}),t._v(" "),e("div",{staticClass:"text-h6 mt-4"},[t._v("使用中機動車輛噪音通知到檢")]),t._v(" "),e("div",{staticClass:"text-h6 my-2"},[t._v("線上預約系統")])]),t._v(" "),e("v-card-text",[e("v-text-field",{attrs:{"error-messages":t.accountErrors},model:{value:t.account,callback:function(n){t.account=n},expression:"account"}},[e("div",{staticClass:"textLabel bold text-h6",attrs:{slot:"prepend"},slot:"prepend"},[t._v("公文號")])]),t._v(" "),e("v-text-field",{attrs:{"error-messages":t.passwordErrors},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}},[e("div",{staticClass:"textLabel bold text-h6",attrs:{slot:"prepend"},slot:"prepend"},[t._v("車牌號")])])],1),t._v(" "),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{staticClass:"cyan white--text",attrs:{depressed:""},on:{click:t.loginBtn_click}},[t._v("登入")])],1)],1)],1),t._v(" "),e("v-overlay",{attrs:{value:t.loading}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"64"}},[t._v("登入中...")])],1)],1)};r._withStripped=!0;var o=e(444),i=e(442),s=e(400),c=e(402),a={mixins:[i.validationMixin],components:{},validations:{account:{required:o.required},password:{required:o.required}},data:function(){return{logo:c.a,account:"112233445566",password:"AAA-1234",loading:!1}},mounted:function(){},methods:{loginBtn_click:function(){var t=this;this.$v.$touch(),this.$v.$error||(this.loading=!0,Object(s.f)(this.account,this.password).then((function(n){t.loading=!1,t.$store.dispatch("setLogin",n),t.$router.push({name:"GetInfo"})})).catch((function(n){"fail"===n&&alert("公文號或車牌號有誤"),t.loading=!1})))}},computed:{accountErrors:function(){if(this.$v.account.$dirty)return this.$v.account.required?void 0:"請填寫這個欄位。"},passwordErrors:function(){if(this.$v.password.$dirty)return this.$v.password.required?void 0:"請填寫這個欄位。"}}},u=(e(468),e(115)),f=Object(u.a)(a,r,[],!1,null,"8155e628",null);f.options.__file="src/vue/pages/Login.vue";n.default=f.exports}}]);